{"dependencies":[{"name":"hyperapp","loc":{"line":1,"column":23}},{"name":"picostyle","loc":{"line":2,"column":22}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.main = undefined;\n\nvar _hyperapp = require(\"hyperapp\");\n\nvar _picostyle = require(\"picostyle\");\n\nvar _picostyle2 = _interopRequireDefault(_picostyle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ps = (0, _picostyle2.default)(_hyperapp.h);\nvar STORAGE_KEY = 'MyNameIsBond';\n\nvar state = {\n  text: '',\n  todos: []\n};\n\nvar actions = {\n  changeText: function changeText(input) {\n    return function (state) {\n      state.text = input;\n    };\n  },\n\n  addTodo: function addTodo() {\n    return function (state, actions) {\n      // validate empty text\n      if (!state.text.length) return;\n      state.todos.push(state.text);\n      actions.todosAddID();\n      actions.setDataToLocalStorage(actions.todosMakesJson());\n      state.text = '';\n      return state.todos;\n    };\n  },\n\n  // TODO: All array loop, because make wrong json\n  // EX {\"id\": \"1\", \"todo\": {.....},...}\n  todosAddID: function todosAddID() {\n    return function (state) {\n      debugger;\n      var tmp = state.todos.map(function (todo, index) {\n        return {\n          id: index,\n          todo: todo\n        };\n        state.todos = tmp;\n        return state.todos;\n      });\n    };\n  },\n\n  todosMakesJson: function todosMakesJson() {\n    return function (state) {\n      return JSON.stringify(state.todos);\n    };\n  },\n\n  setDataToLocalStorage: function setDataToLocalStorage(json) {\n    return function (state) {\n      window.localStorage.setItem(STORAGE_KEY, json);\n    };\n  }\n};\n\nvar view = function view(state, actions) {\n  var TodoInput = ps('input')({\n    padding: '4px',\n    // borderRadius: '3px',\n    outline: '0'\n  });\n\n  return (0, _hyperapp.h)(\n    \"main\",\n    null,\n    (0, _hyperapp.h)(TodoInput, { value: state.text, oninput: function oninput(e) {\n        return actions.changeText(e.target.value);\n      } }),\n    (0, _hyperapp.h)(\n      \"button\",\n      { onclick: actions.addTodo },\n      \"Add\"\n    ),\n    (0, _hyperapp.h)(\n      \"ul\",\n      null,\n      state.todos.map(function (n) {\n        return (0, _hyperapp.h)(\n          \"li\",\n          null,\n          n.todo\n        );\n      })\n    )\n  );\n};\n\nvar main = exports.main = (0, _hyperapp.app)(state, actions, view, document.body);"},"hash":"aa4ad2eba599a34da653011f1389adde"}