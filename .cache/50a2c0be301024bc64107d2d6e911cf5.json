{"dependencies":[{"name":"hyperapp","loc":{"line":1,"column":23}},{"name":"picostyle","loc":{"line":2,"column":22}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.main = undefined;\n\nvar _hyperapp = require(\"hyperapp\");\n\nvar _picostyle = require(\"picostyle\");\n\nvar _picostyle2 = _interopRequireDefault(_picostyle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ps = (0, _picostyle2.default)(_hyperapp.h);\n\nvar STORAGE_KEY = 'MyNameIsBond';\n\nvar fetchTodos = function fetchTodos() {\n  return JSON.parse(window.localStorage.getItem(STORAGE_KEY)) || [];\n};\n\nvar state = {\n  todoValue: '',\n  todos: fetchTodos(),\n  week: 'Monday'\n};\n\nvar actions = {\n  onInput: function onInput(value) {\n    return function (state) {\n      state.todoValue = value;\n    };\n  },\n\n  addTodo: function addTodo() {\n    return function (state) {\n      if (!state.todoValue.length) return;\n      state.todos.push({\n        id: state.todos.length,\n        value: state.todoValue,\n        completed: false\n      });\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(state.todos));\n      state.todoValue = '';\n      return state.todos;\n    };\n  },\n\n  removeTodo: function removeTodo(id) {\n    return function (state) {\n      state.todos = state.todos.filter(function (todo) {\n        return todo.id !== id;\n      });\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(state.todos));\n      return state.todos;\n    };\n  },\n\n  handleCheckbox: function handleCheckbox(index) {\n    return function (state) {\n      state.todos[index].completed = !state.todos[index].completed;\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(state.todos));\n      return state.todos;\n    };\n  }\n};\n\nvar view = function view(state, actions) {\n  var Wrapper = ps('main')({\n    height: '550px',\n    width: '600px',\n    margin: '24px auto 0 auto',\n    textAlign: 'center',\n    borderRadius: '3px',\n    background: '#fff'\n  });\n\n  var Week = ps('h1')({\n    padding: '24px 0 0 0',\n    color: '#32325d'\n  });\n\n  var TodoInput = ps('input')({\n    position: 'absolute',\n    bottom: '0',\n    left: '0',\n    boxSizing: 'border-box',\n    width: '100%',\n    padding: '16px',\n    fontSize: '24px',\n    outline: '0',\n    background: '#f6f9fc',\n    color: '#6b7c93',\n    fontWeight: '100',\n    borderRadius: '3px',\n    border: '1px solid #fff',\n    ':focus': {},\n    '::placeholder': {\n      opacity: '.5'\n    }\n  });\n\n  var Checkbox = ps('input')({\n    borderRadius: '50%'\n  });\n  var TodoLists = ps('ul')({\n    width: '100%',\n    listStyleType: 'none'\n  });\n\n  var TodoListsItem = ps('li')({\n    display: 'inline-block',\n    '.completed': {\n      opacity: '.5',\n      textDecoration: 'line-through'\n    }\n  });\n  return (0, _hyperapp.h)(\n    Wrapper,\n    null,\n    (0, _hyperapp.h)(\n      Week,\n      null,\n      state.week\n    ),\n    (0, _hyperapp.h)(\n      TodoLists,\n      null,\n      state.todos.map(function (todo, index) {\n        return (0, _hyperapp.h)(\n          \"div\",\n          null,\n          (0, _hyperapp.h)(\"input\", {\n            type: \"checkbox\",\n            checked: todo.completed,\n            onclick: function onclick() {\n              return actions.handleCheckbox(index);\n            },\n            onkeydown: function onkeydown(e) {\n              return e.keyCode === 13 ? actions.addTodo : '';\n            }\n          }),\n          (0, _hyperapp.h)(\n            TodoListsItem,\n            {\n              \"class\": todo.completed ? \"completed\" : \"\"\n            },\n            todo.value\n          ),\n          (0, _hyperapp.h)(\n            \"span\",\n            {\n              onclick: function onclick() {\n                return actions.removeTodo(todo.id);\n              }\n            },\n            \"\\xD7\"\n          )\n        );\n      })\n    ),\n    (0, _hyperapp.h)(TodoInput, {\n      type: \"text\",\n      placeholder: \"What needs to be done?\",\n      value: state.todoValue,\n      oninput: function oninput(e) {\n        return actions.onInput(e.target.value);\n      },\n      onkeydown: function onkeydown(e) {\n        return e.keyCode === 13 ? actions.addTodo : '';\n      }\n    })\n  );\n};\n\nvar main = exports.main = (0, _hyperapp.app)(state, actions, view, document.body);"},"hash":"152f9b49c2b4885c6ac0ad468b24408b"}